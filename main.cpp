#include <iostream>
#include <vector>
#include <string.h>
#include "grafo.h"
#include "raylib.h"


using namespace std;



string dots = "691.000 206.000, 570.000 212.000, 602.000 131.000, 599.000 67.000, 570.000 40.000, 498.000 131.000, 425.000 58.000, 441.000 195.000, 304.000 188.000, 324.000 124.000, 271.000 101.000, 173.000 61.000, 247.000 160.000, 219.000 257.000, 168.000 176.000, 97.000 107.000, 52.000 231.000, 125.000 275.000, 195.000 324.000, 264.000 358.000, 279.000 290.000, 325.000 337.000, 404.000 246.000, 472.000 318.000, 539.000 263.000, 591.000 324.000, 682.000 294.000, 682.000 403.000, 607.000 403.000, 529.000 383.000, 420.000 459.000, 369.000 399.000, 238.000 459.000, 176.000 388.000, 72.000 320.000, 18.000 476.000, 114.000 520.000, 212.000 573.000, 318.000 564.000, 346.000 514.000, 459.000 507.000, 485.000 544.000, 568.000 498.000, 599.000 546.000, 690.000 537.000, 706.000 630.000, 720.000 698.000, 601.000 719.000, 579.000 659.000, 499.000 675.000, 444.000 685.000, 332.000 680.000, 271.000 670.000, 188.000 669.000, 62.000 624.000, 11.000 730.000, 161.000 780.000, 318.000 786.000, 449.000 787.000, 528.000 788.000, 625.000 788.000, 526.000 730.000";
vector<Vector2> Aristas = {{0,1},{0,26},
                           {1,2},{1,24},
                           {2,3},
                           {3,4},
                           {4,5},
                           {5,6},{5,7},
                           {6,9},
                           {7,9},{7,24},{7,22},
                           {8,9},{8,12},{8,20},{8,22},
                           {9,10},
                           {10,12},
                           {11,12},{11,15},
                           {12,13},
                           {13,18},{13,20},
                           {14,15},{14,17},
                           {15,16},
                           {16,17},
                           {17,18},
                           {18,19},{18,33},
                           {19,20},{19,32},
                           {20,21},
                           {21,22},{21,31},
                           {22,23},
                           {23,24},{23,29},{23,31},
                           {24,25},
                           {25,26},{25,28},
                           {27,28},{27,44},
                           {28,29},{28,42},
                           {29,30},
                           {30,31},{30,40},
                           {31,32},
                           {32,33},{32,37},
                           {33,34},{33,36},
                           {34,35},
                           {35,36},
                           {36,37},{36,54},
                           {37,38},{37,53},
                           {38,39},{38,52},
                           {39,40},
                           {40,41},
                           {41,42},{41,49},
                           {42,43},
                           {43,44},{43,48},
                           {45,46},{45,48},
                           {46,47},
                           {47,48},{47,60},{47,61},
                           {48,49},
                           {49,50},
                           {50,51},{50,58},
                           {51,52},{51,57},
                           {52,53},
                           {53,54},{53,56},
                           {54,55},
                           {55,56},
                           {59,61}};
// 734 × 800

int main(int argc, char const *argv[]){
    std::cout.setf(std::ios::unitbuf);

    Grafo mapa(dots, Aristas);

    mapa.BellmanFord();

    InitWindow(800, 650, "Bellman-Ford"); 
    Texture2D background = LoadTexture("mapa.png");
    Texture2D Click0 = LoadTexture("Click0.png");
    Texture2D Click1 = LoadTexture("Click1.png");
    SetTargetFPS(60);
    
    while (!WindowShouldClose()){

        BeginDrawing();
            DrawTextureEx(background, {0,0}, 0, 0.81, GRAY);
            DrawRectangle(0, 0, 800, 650,{255, 255, 255, 180});

            mapa.draw();
            mapa.update();


            DrawFPS(610,10);
            DrawTexture(Click0, 610, 100, WHITE);
            DrawText("Set Target", 630, 103, 16, BLACK);
            DrawTexture(Click1, 610, 125, WHITE);
            DrawText("Set Origin", 630, 128, 16, BLACK);
        EndDrawing();
    }
    CloseWindow(); 


    return 0;
}

